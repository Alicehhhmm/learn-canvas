<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Line-style Api - lineJoin / 线条-拐点样式</title>
    <style>
        canvas {
            border: 1px solid goldenrod;
        }
    </style>
</head>

<body>
    <canvas id="canvas2d" width="400" height="300">
        The current browser does not support canvas
    </canvas>

    <script>
        const canvas = document.getElementById('canvas2d')

        if (canvas.getContext) {
            var ctx = canvas.getContext("2d");

            // 线条样式-线条拐点（实例属性）
            // 线条拐点样式是指两条线相交时，交点的形状
            // lineJoin: round | bevel | miter (默认)
            // - round: 圆角拐点
            // - bevel: 平角拐点
            // - miter: 尖角拐点
            // - 线条拐点样式，默认是 miter，尖角拐点

            // 如下将以描边（stroke）的方式绘制条不同线条拐点样式的线条

            // 1.绘制圆角拐点的线条
            ctx.strokeStyle = "green";
            ctx.lineWidth = 10;
            ctx.lineJoin = "round"; // 圆角拐点
            ctx.beginPath();
            ctx.moveTo(50, 50);
            ctx.lineTo(100, 100);
            ctx.lineTo(150, 50);
            ctx.lineTo(200, 100);
            ctx.lineTo(250, 50);
            ctx.lineTo(300, 100);
            ctx.stroke();
            ctx.closePath();

            // 2.绘制平角拐点的线条
            let spaceY = 50;
            ctx.strokeStyle = "orange";
            ctx.lineJoin = "bevel"; // 平角拐点
            ctx.beginPath();
            ctx.moveTo(50, 50 + spaceY);
            ctx.lineTo(100, 100 + spaceY);
            ctx.lineTo(150, 50 + spaceY);
            ctx.lineTo(200, 100 + spaceY);
            ctx.lineTo(250, 50 + spaceY);
            ctx.lineTo(300, 100 + spaceY);
            ctx.stroke();
            ctx.closePath();

            // 3.绘制尖角拐点的线条
            ctx.strokeStyle = "gray";
            ctx.lineJoin = "miter"; // 尖角拐点
            ctx.beginPath();
            ctx.moveTo(50, 50 + spaceY * 2);
            ctx.lineTo(100, 100 + spaceY * 2);
            ctx.lineTo(150, 50 + spaceY * 2);
            ctx.lineTo(200, 100 + spaceY * 2);
            ctx.lineTo(250, 50 + spaceY * 2);
            ctx.lineTo(300, 100 + spaceY * 2);
            ctx.stroke();
            ctx.closePath();
        }
    </script>
</body>

</html>