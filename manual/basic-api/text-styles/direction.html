<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Text Api - direction / 文本属性-文本方向</title>
    <style>
        canvas {
            border: 1px solid goldenrod;
        }
    </style>
</head>

<body>
    <canvas id="canvas2d" width="600" height="400">
        The current browser does not support canvas
    </canvas>

    <script>
        const canvas = document.getElementById('canvas2d')

        if (canvas.getContext) {
            var ctx = canvas.getContext("2d");

            // 文本样式-字体对齐（实例属性）
            // 概述: 用于绘制文本时, 描述当前文本方向
            // 语法:
            // - direction: ltr | rtl | inherit
            // - ltr: 从左到右（默认值）
            // - rtl: 从右到左
            // - inherit: 继承父元素的 direction 属性
            // @see 参考: https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/direction

            // 如下使用 fillText 文本绘制方法。
            // - 通过定义不同的 direction 方向属性,
            // - 并结合textAlign: start| end 属性与参考线来观察它们的效果。

            // 定义变量
            const direction = 'ltr'; // 手动修改文本方向,观察效果
            const x = canvas.width / 2;
            const y = canvas.height;

            // 定义参考线
            ctx.strokeStyle = '#09f';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(x, 0)
            ctx.lineTo(x, y)
            ctx.stroke()
            ctx.closePath()

            // 设置字体样式
            ctx.font = '20px Arial';
            ctx.direction = direction;

            // 绘制文本标记方向:
            ctx.textAlign = 'center';
            ctx.fillStyle = 'orange';
            ctx.fillText(`当前文本方向: ${direction}`, x, 50);

            // 1.定义: 文本起始对齐
            ctx.fillStyle = 'gray';
            ctx.textAlign = 'start';
            ctx.fillText('left-start-文本起始对齐-right', x, 200);

            // 2.定义: 文本结束对齐
            ctx.textAlign = 'end';
            ctx.fillText('left-end-文本结束对齐-right', x, 250);
        }
    </script>
</body>

</html>